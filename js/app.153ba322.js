(function(e){function t(t){for(var r,s,i=t[0],c=t[1],u=t[2],d=0,f=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&f.push(n[s][0]),n[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(f.length)f.shift()();return a.push.apply(a,u||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],r=!0,i=1;i<o.length;i++){var c=o[i];0!==n[c]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=o[0]))}return e}var r={},n={app:0},a=[];function s(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=e,s.c=r,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(o,r,function(t){return e[t]}.bind(null,r));return o},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;a.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"034f":function(e,t,o){"use strict";o("85ec")},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},2:function(e,t){},"20f4":function(e,t){e.exports={get authEndPoint(){return window.localStorage.getItem("authEndpoint")||""},set authEndPoint(e){window.localStorage.setItem("authEndpoint",e)},get tokenEndpoint(){return window.localStorage.getItem("tokenEndpoint")||""},set tokenEndpoint(e){window.localStorage.setItem("tokenEndpoint",e)},get clientId(){return window.localStorage.getItem("clientId")||""},set clientId(e){window.localStorage.setItem("clientId",e)},get clientSecret(){return window.sessionStorage.getItem("clientSecret")||""},set clientSecret(e){window.sessionStorage.setItem("clientSecret",e)},get scope(){return window.localStorage.getItem("scope")||""},set scope(e){window.localStorage.setItem("scope",e)},get customParameters(){return window.localStorage.getItem("customParameters")||""},set customParameters(e){window.localStorage.setItem("customParameters",e)},get state(){return window.localStorage.getItem("state")||""},set state(e){window.localStorage.setItem("state",e)},get authCode(){return window.sessionStorage.getItem("authCode")||""},set authCode(e){window.sessionStorage.setItem("authCode",e)},get accessToken(){return window.sessionStorage.getItem("accessToken")||""},set accessToken(e){window.sessionStorage.setItem("accessToken",e)},get refreshToken(){return window.sessionStorage.getItem("refreshToken")||""},set refreshToken(e){window.sessionStorage.setItem("refreshToken",e)}}},3:function(e,t){},4:function(e,t){},5:function(e,t){},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d"),o("e792"),o("0cdd");var r=o("2b0e"),n=o("5f5b");o("2229"),o("2dd8");r["default"].use(n["a"]);var a=o("4eb5"),s=o.n(a);r["default"].use(s.a);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("b-container",[o("h1",[e._v("OAuth 2.0 Client Shell")]),o("p",[e._v("Get the "),o("code",[e._v("authorization_code")]),e._v(", "),o("code",[e._v("access_token")]),e._v(" and "),o("code",[e._v("refresh_token")]),e._v(" for any registered OAuth 2.0 client!")]),o("p",[e._v("This web application stores non-secrets in local storage and secrets in session storage.")]),o("hr"),o("b-form",[o("h2",[e._v("Workflow")]),o("b-row",[o("b-col",[o("b-form-group",[o("b-form-radio-group",{attrs:{id:"starting-state-group",options:e.workflow.options,buttons:"",name:"radios-btn-default","button-variant":"outline-primary"},model:{value:e.workflow.state,callback:function(t){e.$set(e.workflow,"state",t)},expression:"workflow.state"}})],1)],1)],1),o("h2",[e._v("Request Details")]),o("b-row",[o("b-col",{attrs:{lg:"6"}},[o("b-form-group",{attrs:{id:"authorization-endpoint-group",label:"Authorization Endpoint","label-for":"authorization-endpoint-input"}},[o("b-form-input",{attrs:{id:"authorization-endpoint-input",type:"text",placeholder:"https://accounts.google.com/o/oauth2/v2/auth",disabled:!e.isStart,required:e.isStart,state:(!e.isStart||e.form.authEndpoint.length>0)&&null},model:{value:e.form.authEndpoint,callback:function(t){e.$set(e.form,"authEndpoint",t)},expression:"form.authEndpoint"}})],1)],1),o("b-col",{attrs:{lg:"6"}},[o("b-form-group",{attrs:{id:"token-endpoint-group",label:"Token Endpoint","label-for":"token-endpoint-input"}},[o("b-form-input",{attrs:{id:"token-endpoint-input",type:"text",placeholder:"https://www.googleapis.com/oauth2/v4/token",disabled:e.isStart,required:!e.isStart,state:!!(e.isStart||e.form.tokenEndpoint.length>0)&&null},model:{value:e.form.tokenEndpoint,callback:function(t){e.$set(e.form,"tokenEndpoint",t)},expression:"form.tokenEndpoint"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{lg:"6"}},[o("b-form-group",{attrs:{id:"client-id-group",label:"Client ID","label-for":"authorization-endpoint-input"}},[o("b-form-input",{attrs:{id:"client-id-input",type:"text",placeholder:"812741506391.apps.googleusercontent.com",required:"",state:e.form.clientId.length>0&&null},model:{value:e.form.clientId,callback:function(t){e.$set(e.form,"clientId",t)},expression:"form.clientId"}})],1)],1),o("b-col",{attrs:{lg:"6"}},[o("b-form-group",{attrs:{id:"client-secret-group",label:"Client Secret","label-for":"client-secret-input"}},[o("b-form-input",{attrs:{id:"client-secret-input",type:"text",placeholder:"abc123",disabled:e.isStart,required:!e.isStart,state:!!(e.isStart||e.form.clientSecret.length>0)&&null},model:{value:e.form.clientSecret,callback:function(t){e.$set(e.form,"clientSecret",t)},expression:"form.clientSecret"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{lg:"6"}},[o("b-form-group",{attrs:{id:"redirect-uri-group",label:"Redirect URI","label-for":"redirect-uri-input"}},[o("b-form-input",{attrs:{id:"redirect-uri-input",type:"text",disabled:"",required:""},model:{value:e.form.redirectUri,callback:function(t){e.$set(e.form,"redirectUri",t)},expression:"form.redirectUri"}})],1)],1),o("b-col",{attrs:{lg:"6"}},[o("b-form-group",{attrs:{id:"scope-group",label:"Scope","label-for":"scope-input"}},[o("b-form-input",{attrs:{id:"scope-input",type:"text",placeholder:"profile",disabled:e.isAuthCode,required:!e.isAuthCode,state:!!(e.isAuthCode||e.form.scope.length>0)&&null},model:{value:e.form.scope,callback:function(t){e.$set(e.form,"scope",t)},expression:"form.scope"}})],1)],1)],1),e.isStart?o("b-row",[o("b-col",{attrs:{lg:"6"}},[o("b-form-group",{attrs:{id:"state-group",label:"State","label-for":"state-input"}},[o("b-form-input",{attrs:{id:"state-input",type:"text",required:"",state:e.form.state.length>0&&null},model:{value:e.form.state,callback:function(t){e.$set(e.form,"state",t)},expression:"form.state"}})],1)],1),o("b-col",{attrs:{lg:"6"}},[o("b-form-group",{attrs:{id:"custom-parameters-group",label:"Custom Parameters (Form-Encoded, Optional)","label-for":"custom-parameters-input"}},[o("b-form-input",{attrs:{id:"custom-parameters-input",type:"text",placeholder:"access_type=online&include_granted_scopes=false"},model:{value:e.form.customParameters,callback:function(t){e.$set(e.form,"customParameters",t)},expression:"form.customParameters"}})],1)],1)],1):e._e(),e.isStart?o("b-row",[o("b-col",[o("b-button",{attrs:{variant:"primary"},on:{click:e.getAuthCode}},[e._v(" Get Authorization Code ")])],1)],1):e._e(),e.isAuthCode?o("b-row",[o("b-col",[o("b-form-group",{attrs:{id:"authorization-code-group",label:"Authorization Code","label-for":"authorization-code-input"}},[o("b-input-group",[o("b-form-input",{attrs:{id:"authorization-code-input",type:"text",required:"",state:e.form.authCode.length>0&&null},model:{value:e.form.authCode,callback:function(t){e.$set(e.form,"authCode",t)},expression:"form.authCode"}}),o("b-input-group-append",[o("b-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.form.authCode,expression:"form.authCode",arg:"copy"}],attrs:{variant:"primary"}},[e._v("Copy")])],1)],1)],1)],1)],1):e._e(),e.isAuthCode?o("b-row",[o("b-col",[o("b-button",{attrs:{variant:"primary"},on:{click:e.tradeInAuthCode}},[e._v(" Trade in Authorization Code "),e.workflow.showSpinner?o("b-spinner",{attrs:{small:""}}):e._e()],1)],1)],1):e._e(),e.isRefreshToken?o("b-row",[o("b-col",{attrs:{lg:"6"}},[o("b-form-group",{attrs:{id:"access-token-group",label:"Access Token","label-for":"access-token-input"}},[o("b-input-group",[o("b-form-input",{attrs:{id:"access-token-input",type:"text",disabled:""},model:{value:e.form.accessToken,callback:function(t){e.$set(e.form,"accessToken",t)},expression:"form.accessToken"}}),o("b-input-group-append",[o("b-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.form.accessToken,expression:"form.accessToken",arg:"copy"}],attrs:{variant:"primary"}},[e._v("Copy")])],1)],1)],1)],1),o("b-col",{attrs:{lg:"6"}},[o("b-form-group",{attrs:{id:"refresh-token-group",label:"Refresh Token","label-for":"refresh-token-input"}},[o("b-input-group",[o("b-form-input",{attrs:{id:"refresh-token-input",type:"text",required:"",state:e.form.refreshToken.length>0&&null},model:{value:e.form.refreshToken,callback:function(t){e.$set(e.form,"refreshToken",t)},expression:"form.refreshToken"}}),o("b-input-group-append",[o("b-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.form.refreshToken,expression:"form.refreshToken",arg:"copy"}],attrs:{variant:"primary"}},[e._v("Copy")])],1)],1)],1)],1)],1):e._e(),e.isRefreshToken?o("b-row",[o("b-col",[o("b-button",{attrs:{variant:"primary"},on:{click:e.tradeInRefreshToken}},[e._v(" Trade in Refresh Token "),e.workflow.showSpinner?o("b-spinner",{attrs:{small:""}}):e._e()],1)],1)],1):e._e()],1),o("hr"),o("footer",{staticClass:"text-center"},[o("i",[e._v("Source code is available on "),o("a",{attrs:{href:"https://github.com/neverendingqs/oauth2-client-shell-v2",target:"_blank",rel:"noopener noreferrer"}},[e._v("GitHub")]),e._v(".")])])],1)},c=[],u=o("1da1"),l=o("3835"),d=(o("96cf"),o("4fad"),o("99af"),o("d3b7"),o("3ca3"),o("ddb0"),o("2b3d"),o("ac1f"),o("841c"),o("6fa2")),f=o.n(d),p=o("20f4"),m=o.n(p),h=o("d86a");function b(e){return Object.entries(e).reduce((function(e,t){var o=Object(l["a"])(t,2),r=o[0],n=o[1];return e?"".concat(e,"&").concat(encodeURIComponent(r),"=").concat(encodeURIComponent(n)):"".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(n))}),"")}function g(){return f()(256,36)}var w={name:"app",components:{},computed:{isAuthCode:function(){return this.workflow.state===h["AUTH_CODE"]},isRefreshToken:function(){return this.workflow.state===h["REFRESH_TOKEN"]},isStart:function(){return this.workflow.state===h["START"]}},data:function(){return{form:{authEndpoint:m.a.authEndPoint,tokenEndpoint:m.a.tokenEndpoint,clientId:m.a.clientId,clientSecret:m.a.clientSecret,redirectUri:"",scope:m.a.scope,customParameters:m.a.customParameters,state:m.a.state||g(),authCode:m.a.authCode,accessToken:m.a.accessToken,refreshToken:m.a.refreshToken},workflow:{options:[h["START"],h["AUTH_CODE"],h["REFRESH_TOKEN"]],showSpinner:!1,state:h["START"]}}},methods:{getAuthCode:function(){this.updateAllCacheValues();var e=b({response_type:"code",redirect_uri:this.form.redirectUri,client_id:this.form.clientId,scope:this.form.scope,state:this.form.state});this.form.customParameters&&(e+="&".concat(this.form.customParameters)),window.location.href="".concat(this.form.authEndpoint,"?").concat(e)},handleError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h["START"];this.$bvToast.toast(e,{appendToast:!1,noAutoHide:!0,solid:!0,title:"Error",toaster:"b-toaster-bottom-center",variant:"danger"}),this.workflow.state=t},requestTokens:function(e,t){var o=this;return Object(u["a"])(regeneratorRuntime.mark((function r(){var n,a,s,i,c,u;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o.workflow.showSpinner=!0,r.next=3,fetch(o.form.tokenEndpoint,{method:"POST",headers:{Authorization:"Basic ".concat(btoa("".concat(o.form.clientId,":").concat(o.form.clientSecret))),"Content-Type":"application/x-www-form-urlencoded"},body:b(e)});case 3:if(n=r.sent,n.ok){r.next=9;break}return r.next=7,n.text();case 7:a=r.sent,o.handleError("Authorization server rejected the request with a status code of '".concat(n.status,"'. ")+"Body: '".concat(a,"'"),t);case 9:return r.prev=9,r.next=12,n.json();case 12:return s=r.sent,i=s.access_token,c=s.refresh_token,r.abrupt("return",{access_token:i,refresh_token:c});case 18:return r.prev=18,r.t0=r["catch"](9),r.next=22,n.text();case 22:u=r.sent,o.handleError("Unable to parse authorization server response: '".concat(u,"'"),t);case 24:return r.prev=24,o.workflow.showSpinner=!1,r.finish(24);case 27:case"end":return r.stop()}}),r,null,[[9,18,24,27]])})))()},tradeInAuthCode:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var o,r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.updateAllCacheValues(),o={grant_type:"authorization_code",redirect_uri:e.form.redirectUri,code:e.form.authCode},t.next=4,e.requestTokens(o,h["AUTH_CODE"]);case 4:r=t.sent,n=r.access_token,a=r.refresh_token,e.form.authCode="(Used) ".concat(e.form.authCode),e.form.accessToken=n,e.form.refreshToken=a||"Not provided by authorization server.",e.workflow.state=h["REFRESH_TOKEN"];case 11:case"end":return t.stop()}}),t)})))()},tradeInRefreshToken:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var o,r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.updateAllCacheValues(),o={grant_type:"refresh_token",refresh_token:e.form.refreshToken,scope:e.form.scope},t.next=4,e.requestTokens(o,h["REFRESH_TOKEN"]);case 4:r=t.sent,n=r.access_token,a=r.refresh_token,e.form.accessToken=n,e.form.refreshToken=a||e.form.refreshToken,e.workflow.state=h["REFRESH_TOKEN"];case 10:case"end":return t.stop()}}),t)})))()},updateAllCacheValues:function(){m.a.authEndPoint=this.form.authEndpoint,m.a.tokenEndpoint=this.form.tokenEndpoint,m.a.clientId=this.form.clientId,m.a.clientSecret=this.form.clientSecret,m.a.scope=this.form.scope,m.a.customParameters=this.form.customParameters,m.a.state=this.form.state,m.a.authCode=this.form.authCode,m.a.accessToken=this.form.accessToken,m.a.refreshToken=this.form.refreshToken}},mounted:function(){this.form.redirectUri=window.location.origin;var e=new URLSearchParams(window.location.search),t=e.get("code"),o=e.get("state");if(window.history.pushState({},document.title,"/"),o){if(o!==this.form.state)return this.handleError("State from authorization server (".concat(o,") did not match the state we sent (").concat(this.form.state,"). They must match to prevent cross-site request forgery. Please try again.")),void(this.form.state=g());if(!t)return this.handleError('Authorization server returned an invalid response (missing "code" query string parameter).'),void(this.form.state=g());this.form.authCode=t,this.workflow.state=h["AUTH_CODE"]}this.form.state=g()}},k=w,v=(o("034f"),o("2877")),T=Object(v["a"])(k,i,c,!1,null,null,null),S=T.exports;r["default"].config.productionTip=!1,new r["default"]({render:function(e){return e(S)}}).$mount("#app")},6:function(e,t){},7:function(e,t){},8:function(e,t){},"85ec":function(e,t,o){},9:function(e,t){},d86a:function(e,t){e.exports={START:"Start",AUTH_CODE:"Authorization Code",REFRESH_TOKEN:"Refresh Token"}}});
//# sourceMappingURL=app.153ba322.js.map